
<html class="scroll-smooth" lang="pt-BR">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Justiça Digital
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <style>
   body {
      font-family: "Inter", sans-serif;
    }
  </style>
 </head>
 <body class="bg-white text-blue-900 min-h-screen flex flex-col">
  <!-- Main container for all pages -->
  <div class="flex-grow flex flex-col" id="app">
   <!-- Home Screen -->
   <section class="flex flex-col items-center justify-center flex-grow px-6 text-center max-w-lg mx-auto" id="home">
    <img alt="Logo do projeto Justiça Digital com ícone de balança estilizada em azul escuro sobre fundo branco" class="mx-auto mb-6 w-36 h-36 object-contain" height="150" src="https://storage.googleapis.com/a1aa/image/7d6a91df-2b24-4e51-b878-57a83b1c53d7.jpg" width="150"/>
    <h1 class="text-xl sm:text-2xl font-semibold mb-10 max-w-xs mx-auto text-blue-900">
     Transformando inclusão digital em acesso a direitos.
    </h1>
    <div class="flex flex-col sm:flex-row gap-6 w-full max-w-xs">
     <button aria-label="Entrar no sistema" class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition" id="btnEntrar">
      Entrar
     </button>
     <button aria-label="Criar nova conta" class="bg-white border-2 border-blue-700 text-blue-700 font-semibold py-3 rounded-md shadow-md hover:bg-blue-50 transition" id="btnCriarConta">
      Criar Conta
     </button>
    </div>
   </section>
   <!-- Login Modal -->
   <section aria-describedby="loginDesc" aria-labelledby="loginTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="login" role="dialog">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative">
     <button aria-label="Fechar formulário de login" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 focus:outline-none" id="closeLogin">
      <i class="fas fa-times fa-lg">
      </i>
     </button>
     <h2 class="text-2xl font-semibold text-blue-900 mb-4 text-center" id="loginTitle">
      Entrar
     </h2>
     <form class="flex flex-col gap-4" id="formLogin" novalidate="">
      <label class="text-blue-900 font-medium" for="loginEmailCpf">
       E-mail ou CPF
      </label>
      <input autocomplete="username" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="loginEmailCpf" inputmode="text" name="loginEmailCpf" placeholder="Digite seu e-mail ou CPF" required="" type="text"/>
      <label class="text-blue-900 font-medium" for="loginSenha">
       Senha
      </label>
      <input autocomplete="current-password" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="loginSenha" name="loginSenha" placeholder="Digite sua senha" required="" type="password"/>
      <button class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition" type="submit">
       Acessar
      </button>
      <div class="text-right">
       <a class="text-sm text-blue-700 hover:underline" href="#" id="forgotPasswordLink">
        Esqueci minha senha
       </a>
      </div>
     </form>
    </div>
   </section>
   <!-- Register Modal -->
   <section aria-describedby="registerDesc" aria-labelledby="registerTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" id="register" role="dialog">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative overflow-y-auto max-h-[90vh]">
     <button aria-label="Fechar formulário de registro" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 focus:outline-none" id="closeRegister">
      <i class="fas fa-times fa-lg">
      </i>
     </button>
     <h2 class="text-2xl font-semibold text-blue-900 mb-4 text-center" id="registerTitle">
      Criar Conta
     </h2>
     <form class="flex flex-col gap-4" id="formRegister" novalidate="">
      <label class="text-blue-900 font-medium" for="registerNome">
       Nome completo
      </label>
      <input autocomplete="name" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="registerNome" name="registerNome" placeholder="Digite seu nome completo" required="" type="text"/>
      <label class="text-blue-900 font-medium" for="registerEmail">
       E-mail
      </label>
      <input autocomplete="email" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="registerEmail" name="registerEmail" placeholder="Digite seu e-mail" required="" type="email"/>
      <label class="text-blue-900 font-medium" for="registerCPF">
       CPF
      </label>
      <input class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="registerCPF" inputmode="numeric" maxlength="11" name="registerCPF" pattern="\d{11}" placeholder="Digite seu CPF (somente números)" required="" type="text"/>
      <label class="text-blue-900 font-medium" for="registerSenha">
       Senha
      </label>
      <input autocomplete="new-password" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="registerSenha" name="registerSenha" placeholder="Digite sua senha" required="" type="password"/>
      <label class="text-blue-900 font-medium" for="registerSenhaConfirm">
       Confirmação da senha
      </label>
      <input autocomplete="new-password" class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="registerSenhaConfirm" name="registerSenhaConfirm" placeholder="Confirme sua senha" required="" type="password"/>
      <button class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition" type="submit">
       Registrar
      </button>
     </form>
    </div>
   </section>
   <!-- Dashboard Aprimorado -->
   <section aria-label="Página principal após login" class="hidden" id="dashboard">
    <!-- Header fixed -->
    <header class="fixed top-0 left-0 w-full bg-white border-b border-blue-200 shadow-sm z-30" role="banner">
     <div class="max-w-6xl mx-auto flex items-center justify-between px-6 py-3 sm:py-4">
      <div class="flex items-center space-x-3">
       <img alt="Logo pequeno do Justiça Digital, letras JD em branco sobre fundo azul escuro" class="object-contain rounded" height="40" src="https://storage.googleapis.com/a1aa/image/b50dafdc-7df1-4ff4-927b-8b85f137820f.jpg" width="40"/>
       <span class="font-bold text-lg text-blue-900 select-none">
        Justiça Digital
       </span>
      </div>
      <div class="flex items-center space-x-4">
       <div class="flex items-center space-x-2">
        <span class="text-blue-900 font-semibold select-none" id="userGreeting">
         Olá, Maria!
        </span>
        <div aria-label="Ícone de perfil do usuário" class="w-10 h-10 rounded-full bg-blue-700 flex items-center justify-center text-white text-lg font-semibold select-none" role="img" id="userInitial">
         M
        </div>
       </div>
       <button aria-label="Sair do sistema" class="text-blue-700 border border-blue-700 hover:bg-blue-700 hover:text-white transition rounded-md px-3 py-1 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-blue-600" id="btnLogout" type="button">
        Sair
       </button>
      </div>
     </div>
    </header>
    <!-- Main content -->
    <main class="flex-grow max-w-6xl mx-auto px-6 pt-24 pb-20 grid grid-cols-1 md:grid-cols-3 gap-8" role="main">
     <!-- Card 1: Tutoriais -->
     <section aria-labelledby="tutorialsTitle" class="bg-blue-50 rounded-lg shadow-md p-6 flex flex-col">
      <div class="flex items-center mb-4 space-x-3">
       <div aria-hidden="true" class="bg-blue-700 text-white rounded-md p-3 flex items-center justify-center">
        <i class="fas fa-laptop fa-lg">
        </i>
       </div>
       <h2 class="text-xl font-semibold text-blue-900 select-none" id="tutorialsTitle">
        Tutoriais Passo a Passo
       </h2>
      </div>
      <p class="text-blue-800 mb-6 flex-grow select-text" id="tutorialsDescription">
       Aprenda a emitir documentos, acessar gov.br, benefícios sociais e
        acompanhar processos online.
      </p>
      <button class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-blue-600" id="btnAccessTutorials" type="button">
       Acessar Tutoriais
      </button>
     </section>
     <!-- Card 2: Agendar Oficina -->
     <section aria-labelledby="workshopsTitle" class="bg-white rounded-lg shadow-md p-6 flex flex-col border border-blue-200">
      <div class="flex items-center mb-4 space-x-3">
       <div aria-hidden="true" class="bg-blue-700 text-white rounded-md p-3 flex items-center justify-center">
        <i class="fas fa-calendar-alt fa-lg">
        </i>
       </div>
       <h2 class="text-xl font-semibold text-blue-900 select-none" id="workshopsTitle">
        Oficinas e Aulas Práticas
       </h2>
      </div>
      <p class="text-blue-800 mb-6 flex-grow select-text" id="workshopsDescription">
       Participe de oficinas presenciais ou online e aprenda na prática.
      </p>
      <button class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-blue-600" id="btnViewCalendar" type="button">
       Ver Calendário
      </button>
     </section>
     <!-- Card 3: Ajuda Rápida -->
     <section aria-labelledby="supportTitle" class="bg-white rounded-lg shadow-md p-6 flex flex-col border border-blue-200">
      <div class="flex items-center mb-4 space-x-3">
       <div aria-hidden="true" class="bg-blue-700 text-white rounded-md p-3 flex items-center justify-center">
        <i class="fas fa-headset fa-lg">
        </i>
       </div>
       <h2 class="text-xl font-semibold text-blue-900 select-none" id="supportTitle">
        Suporte e Orientação
       </h2>
      </div>
      <p class="text-blue-800 mb-6 flex-grow select-text" id="supportDescription">
       Precisa de ajuda agora? Fale com a nossa equipe.
      </p>
      <div class="flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3">
       <a aria-label="Entrar em contato via WhatsApp" class="flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-green-500" href="https://wa.me/5511999999999" rel="noopener noreferrer" target="_blank">
        <i class="fab fa-whatsapp mr-2">
        </i>
        WhatsApp
       </a>
       <a aria-label="Enviar e-mail para suporte" class="flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-blue-500" href="mailto:suporte@justicadigital.gov.br">
        <i class="fas fa-envelope mr-2">
        </i>
        E-mail
       </a>
       <button aria-label="Abrir chat online de suporte" class="flex items-center justify-center bg-gray-400 hover:bg-gray-500 text-white font-semibold py-2 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-gray-400" id="btnOpenChat" type="button">
        <i class="fas fa-comments mr-2">
        </i>
        Chat Online
       </button>
      </div>
     </section>
    </main>
   </section>
  </div>
  <!-- Tutoriais Page (hidden by default) -->
  <section aria-label="Página de tutoriais passo a passo" class="fixed inset-0 bg-white z-40 overflow-y-auto p-6 hidden" id="tutorialsPage">
   <header class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-bold text-blue-900">
     Tutoriais Passo a Passo
    </h2>
    <button aria-label="Fechar página de tutoriais" class="text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-600 rounded" id="btnCloseTutorials">
     <i class="fas fa-times fa-lg">
     </i>
    </button>
   </header>
   <div class="max-w-4xl mx-auto space-y-8">
    <article>
     <h3 class="text-xl font-semibold text-blue-800 mb-3">
      Documentos
     </h3>
     <ul class="space-y-4">
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Thumbnail de vídeo tutorial sobre emissão de documentos, mostrando uma pessoa usando computador com documentos digitais na tela" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/6d35f0bd-9957-4f52-1d78-3025ee7cc355.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Como emitir documentos digitais (vídeo)
       </a>
      </li>
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Capa de PDF ilustrado sobre emissão de documentos, com ícones de documentos e balança da justiça" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/aa23e9a7-bdec-4570-65d6-559970d53eb7.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Guia ilustrado para emissão de documentos (PDF)
       </a>
      </li>
     </ul>
    </article>
    <article>
     <h3 class="text-xl font-semibold text-blue-800 mb-3">
      Benefícios
     </h3>
     <ul class="space-y-4">
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Thumbnail de vídeo tutorial sobre acesso a benefícios sociais, mostrando uma família feliz com documentos" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/91598f5b-369c-4489-5e9b-2ece060b3cf1.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Como acessar benefícios sociais (vídeo)
       </a>
      </li>
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Capa de PDF ilustrado sobre benefícios sociais, com ícones de mãos segurando coração e documentos" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/513d93b4-f2cd-4139-35cd-8ef5db9aaa14.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Guia ilustrado para benefícios sociais (PDF)
       </a>
      </li>
     </ul>
    </article>
    <article>
     <h3 class="text-xl font-semibold text-blue-800 mb-3">
      Processos
     </h3>
     <ul class="space-y-4">
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Thumbnail de vídeo tutorial sobre acompanhamento de processos online, mostrando tela de computador com processos judiciais" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/11318e50-bcda-448d-9f6a-8d3ecdbfb213.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Como acompanhar processos online (vídeo)
       </a>
      </li>
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Capa de PDF ilustrado sobre acompanhamento de processos, com ícones de balança e documentos" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/0130edc5-b437-4d2d-e9df-0e589fd5a163.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Guia ilustrado para acompanhamento de processos (PDF)
       </a>
      </li>
     </ul>
    </article>
    <article>
     <h3 class="text-xl font-semibold text-blue-800 mb-3">
      Defensoria
     </h3>
     <ul class="space-y-4">
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Thumbnail de vídeo tutorial sobre serviços da defensoria pública, mostrando advogado e cidadão em atendimento" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/ec001c77-f3e3-4430-f9a6-17a5f6383262.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Conheça a Defensoria Pública (vídeo)
       </a>
      </li>
      <li class="flex flex-col sm:flex-row sm:items-center sm:space-x-4">
       <img alt="Capa de PDF ilustrado sobre defensoria pública, com ícones de advogado e balança da justiça" class="rounded-md mb-2 sm:mb-0" height="80" src="https://storage.googleapis.com/a1aa/image/ebf69ec9-2937-4312-9658-b107e91bbf54.jpg" width="120"/>
       <a class="text-blue-700 hover:underline font-medium" href="#">
        Guia ilustrado da Defensoria Pública (PDF)
       </a>
      </li>
     </ul>
    </article>
   </div>
  </section>
  <!-- Calendário Oficina Modal -->
  <section aria-labelledby="calendarTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50" id="calendarModal" role="dialog">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto">
    <header class="flex items-center justify-between mb-6">
     <h3 class="text-xl font-semibold text-blue-900 select-none" id="calendarTitle">
      Calendário de Oficinas
     </h3>
     <button aria-label="Fechar calendário de oficinas" class="text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-600 rounded" id="btnCloseCalendar">
      <i class="fas fa-times fa-lg">
      </i>
     </button>
    </header>
    <form class="flex flex-col space-y-4" id="calendarForm" novalidate="">
     <label class="font-medium text-blue-900 select-none" for="calendarDate">
      Selecione a data
     </label>
     <input class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="calendarDate" name="calendarDate" required="" type="date"/>
     <label class="font-medium text-blue-900 select-none" for="calendarType">
      Tipo de oficina
     </label>
     <select class="border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="calendarType" name="calendarType" required="">
      <option disabled="" selected="" value="">
       Selecione
      </option>
      <option value="presencial">
       Presencial
      </option>
      <option value="online">
       Online
      </option>
     </select>
     <button class="bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-blue-600" type="submit">
      Inscrever-se
     </button>
    </form>
   </div>
  </section>
  <!-- Chat Online Modal -->
  <section aria-labelledby="chatTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50" id="chatModal" role="dialog">
   <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6 max-h-[90vh] flex flex-col">
    <header class="flex items-center justify-between mb-4">
     <h3 class="text-xl font-semibold text-blue-900 select-none" id="chatTitle">
      Chat Online
     </h3>
     <button aria-label="Fechar chat online" class="text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-600 rounded" id="btnCloseChat">
      <i class="fas fa-times fa-lg">
      </i>
     </button>
    </header>
    <div aria-live="polite" class="flex-grow border border-blue-300 rounded-md p-3 mb-4 overflow-y-auto text-sm text-blue-900" id="chatMessages">
     <p class="italic text-center text-gray-500 select-none">
      Chat iniciado. Como podemos ajudar?
     </p>
    </div>
    <form class="flex space-x-3" id="chatForm" novalidate="">
     <input aria-label="Campo para digitar mensagem do chat" autocomplete="off" class="flex-grow border border-blue-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600" id="chatInput" name="chatInput" placeholder="Digite sua mensagem..." required="" type="text"/>
     <button aria-label="Enviar mensagem do chat" class="bg-blue-700 hover:bg-blue-800 text-white font-semibold px-4 rounded-md shadow-md transition focus:outline-none focus:ring-2 focus:ring-blue-600" type="submit">
      Enviar
     </button>
    </form>
   </div>
  </section>
  <!-- Footer -->
  <footer class="bg-blue-900 text-white fixed bottom-0 left-0 w-full flex flex-col sm:flex-row items-center justify-between px-6 py-3 space-y-3 sm:space-y-0" role="contentinfo">
   <nav class="flex space-x-6 text-sm font-medium">
    <a class="hover:underline focus:underline focus:outline-none" href="#">
     Sobre o Projeto
    </a>
    <a class="hover:underline focus:underline focus:outline-none" href="#">
     Contato
    </a>
    <a class="hover:underline focus:underline focus:outline-none" href="#">
     Política de Privacidade
    </a>
   </nav>
   <div class="flex items-center space-x-2">
    <img alt="Logo pequeno da AJJM em fundo azul escuro com letras brancas" class="w-10 h-10 object-contain" height="40" src="https://storage.googleapis.com/a1aa/image/15ca89ff-83dd-4319-a5bf-9702a4f2fb51.jpg" width="40"/>
    <span class="text-sm font-semibold">
     AJJM
    </span>
   </div>
  </footer>
  <script>
   // Elements
    const btnEntrar = document.getElementById("btnEntrar");
    const btnCriarConta = document.getElementById("btnCriarConta");
    const loginModal = document.getElementById("login");
    const registerModal = document.getElementById("register");
    const closeLogin = document.getElementById("closeLogin");
    const closeRegister = document.getElementById("closeRegister");
    const homeSection = document.getElementById("home");
    const dashboardSection = document.getElementById("dashboard");

    // Show login modal
    btnEntrar.addEventListener("click", () => {
      loginModal.classList.remove("hidden");
      homeSection.classList.add("hidden");
      registerModal.classList.add("hidden");
      dashboardSection.classList.add("hidden");
      document.getElementById("loginEmailCpf").focus();
    });

    // Show register modal
    btnCriarConta.addEventListener("click", () => {
      registerModal.classList.remove("hidden");
      homeSection.classList.add("hidden");
      loginModal.classList.add("hidden");
      dashboardSection.classList.add("hidden");
      document.getElementById("registerNome").focus();
    });

    // Close login modal
    closeLogin.addEventListener("click", () => {
      loginModal.classList.add("hidden");
      homeSection.classList.remove("hidden");
    });

    // Close register modal
    closeRegister.addEventListener("click", () => {
      registerModal.classList.add("hidden");
      homeSection.classList.remove("hidden");
    });

    // Login form submit
    document.getElementById("formLogin").addEventListener("submit", (e) => {
      e.preventDefault();
      // Simple validation
      const emailCpf = e.target.loginEmailCpf.value.trim();
      const senha = e.target.loginSenha.value.trim();
      if (!emailCpf || !senha) {
        alert("Por favor, preencha todos os campos.");
        return;
      }
      // Simulate login success
      loginModal.classList.add("hidden");
      homeSection.classList.add("hidden");
      dashboardSection.classList.remove("hidden");

      // Set user name and initial dynamically (example: from email or CPF)
      let userName = "Maria";
      // If emailCpf looks like an email, extract name before @, else fallback
      if (emailCpf.includes("@")) {
        const namePart = emailCpf.split("@")[0];
        userName = namePart.charAt(0).toUpperCase() + namePart.slice(1);
      }
      // Update greeting and initial
      document.getElementById("userGreeting").textContent = `Olá, ${userName}!`;
      document.getElementById("userInitial").textContent = userName.charAt(0).toUpperCase();
    });

    // Register form submit
    document.getElementById("formRegister").addEventListener("submit", (e) => {
      e.preventDefault();
      const nome = e.target.registerNome.value.trim();
      const email = e.target.registerEmail.value.trim();
      const cpf = e.target.registerCPF.value.trim();
      const senha = e.target.registerSenha.value;
      const senhaConfirm = e.target.registerSenhaConfirm.value;
      if (!nome || !email || !cpf || !senha || !senhaConfirm) {
        alert("Por favor, preencha todos os campos.");
        return;
      }
      if (cpf.length !== 11 || !/^\d{11}$/.test(cpf)) {
        alert("CPF deve conter 11 números.");
        return;
      }
      if (senha !== senhaConfirm) {
        alert("As senhas não coincidem.");
        return;
      }
      // Simulate registration success
      registerModal.classList.add("hidden");
      homeSection.classList.add("hidden");
      dashboardSection.classList.remove("hidden");

      // Update greeting and initial with registered name
      const userName = nome.split(" ")[0] || nome;
      document.getElementById("userGreeting").textContent = `Olá, ${userName}!`;
      document.getElementById("userInitial").textContent = userName.charAt(0).toUpperCase();
    });

    // Workshop form submit
    document.getElementById("calendarForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const date = e.target.calendarDate.value;
      const type = e.target.calendarType.value;
      if (!date || !type) {
        alert("Por favor, selecione a data e o tipo da oficina.");
        return;
      }
      alert(`Inscrição realizada para oficina ${type} na data ${date}.`);
      e.target.reset();
      document.getElementById("calendarModal").classList.add("hidden");
    });

    // Logout button (reload page to simulate logout)
    document.getElementById("btnLogout").addEventListener("click", () => {
      if (confirm("Deseja realmente sair?")) {
        location.reload();
      }
    });

    // Open tutorials page
    document.getElementById("btnAccessTutorials").addEventListener("click", () => {
      document.getElementById("tutorialsPage").classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Close tutorials page
    document.getElementById("btnCloseTutorials").addEventListener("click", () => {
      document.getElementById("tutorialsPage").classList.add("hidden");
    });

    // Open calendar modal
    document.getElementById("btnViewCalendar").addEventListener("click", () => {
      document.getElementById("calendarModal").classList.remove("hidden");
      document.getElementById("calendarDate").focus();
    });

    // Close calendar modal
    document.getElementById("btnCloseCalendar").addEventListener("click", () => {
      document.getElementById("calendarModal").classList.add("hidden");
      document.getElementById("calendarForm").reset();
    });

    // Open chat modal
    document.getElementById("btnOpenChat").addEventListener("click", () => {
      document.getElementById("chatModal").classList.remove("hidden");
      document.getElementById("chatInput").focus();
    });

    // Close chat modal
    document.getElementById("btnCloseChat").addEventListener("click", () => {
      document.getElementById("chatModal").classList.add("hidden");
      document.getElementById("chatForm").reset();
      document.getElementById("chatMessages").innerHTML =
        '<p class="italic text-center text-gray-500 select-none">Chat iniciado. Como podemos ajudar?</p>';
    });

    // Chat form submit (simple echo simulation)
    document.getElementById("chatForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const chatInput = document.getElementById("chatInput");
      const chatMessages = document.getElementById("chatMessages");
      const msg = chatInput.value.trim();
      if (!msg) return;
      // Append user message
      const userMsg = document.createElement("p");
      userMsg.className =
        "text-right text-blue-900 bg-blue-100 rounded-md p-2 mb-2 max-w-xs ml-auto";
      userMsg.textContent = msg;
      chatMessages.appendChild(userMsg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      chatInput.value = "";
      chatInput.focus();

      // Simulate bot reply after 1s
      setTimeout(() => {
        const botMsg = document.createElement("p");
        botMsg.className =
          "text-left text-gray-800 bg-gray-200 rounded-md p-2 mb-2 max-w-xs";
        botMsg.textContent =
          "Obrigado por sua mensagem! Em breve, um atendente entrará em contato.";
        chatMessages.appendChild(botMsg);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1000);
    });

    // Accessibility: close modals on Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        if (!loginModal.classList.contains("hidden")) {
          loginModal.classList.add("hidden");
          homeSection.classList.remove("hidden");
        }
        if (!registerModal.classList.contains("hidden")) {
          registerModal.classList.add("hidden");
          homeSection.classList.remove("hidden");
        }
        if (!document.getElementById("tutorialsPage").classList.contains("hidden")) {
          document.getElementById("tutorialsPage").classList.add("hidden");
        }
        if (!document.getElementById("calendarModal").classList.contains("hidden")) {
          document.getElementById("calendarModal").classList.add("hidden");
          document.getElementById("calendarForm").reset();
        }
        if (!document.getElementById("chatModal").classList.contains("hidden")) {
          document.getElementById("chatModal").classList.add("hidden");
          document.getElementById("chatForm").reset();
          document.getElementById("chatMessages").innerHTML =
            '<p class="italic text-center text-gray-500 select-none">Chat iniciado. Como podemos ajudar?</p>';
        }
      }
    });
  </script>
 </body>
</html>